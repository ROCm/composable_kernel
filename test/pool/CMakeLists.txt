add_custom_target(test_pool)

add_gtest_executable(test_pool3d_avg_bwd test_pool3d_avg_bwd.cpp)
add_gtest_executable(test_pool3d_max_bwd test_pool3d_max_bwd.cpp)
add_gtest_executable(test_pool3d_avg_fwd test_pool3d_avg_fwd.cpp)
add_gtest_executable(test_pool3d_max_fwd test_pool3d_max_fwd.cpp)
add_gtest_executable(test_pool2d_avg_fwd test_pool2d_avg_fwd.cpp)
add_gtest_executable(test_pool2d_max_fwd test_pool2d_max_fwd.cpp)

target_link_libraries(test_pool3d_avg_bwd PRIVATE utility device_pool3d_avg_bwd_instance)
target_link_libraries(test_pool3d_max_bwd PRIVATE utility device_pool_max_bwd_instance)
target_link_libraries(test_pool3d_avg_fwd PRIVATE utility device_pool3d_fwd_instance)
target_link_libraries(test_pool3d_max_fwd PRIVATE utility device_pool3d_fwd_instance)
target_link_libraries(test_pool2d_avg_fwd PRIVATE utility device_pool2d_fwd_instance)
target_link_libraries(test_pool2d_max_fwd PRIVATE utility device_pool2d_fwd_instance)

add_dependencies(test_pool test_pool3d_avg_bwd)
add_dependencies(test_pool test_pool3d_max_bwd)
add_dependencies(test_pool test_pool3d_avg_fwd)
add_dependencies(test_pool test_pool3d_max_fwd)
add_dependencies(test_pool test_pool2d_avg_fwd)
add_dependencies(test_pool test_pool2d_max_fwd)
